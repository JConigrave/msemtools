<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Routines, tables, and figures for metaSEM analyses • msemtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Routines, tables, and figures for metaSEM analyses">
<meta property="og:description" content="Batch together univare metaSEM analyses. Format results into rmarkdown tables. Generate forest plots. Publication bias analyses and plotting. Automatic reporting.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">msemtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.9.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/msemtools.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p>The purpose of ‘msemtools’ (metaSEM tools) is to help run meta-analyses with metaSEM efficiently. This project should be considered to be in Beta. Please report any issues.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install msemtools run the following code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#install.packages("remotes")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"conig/msemtools"</span>)</span></code></pre></div>
</div>
<div id="running-analyses" class="section level2">
<h2 class="hasAnchor">
<a href="#running-analyses" class="anchor"></a>Running analyses</h2>
<p>This packages is a wrapper around the metaSEM package. It does not perform any calculations itself, but rather converts your instructions into metaSEM syntax. Resultant models are returned along with formatted output. Currently only meta3 is supported.</p>
</div>
<div id="example" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h1></div>
<p>To demonstrate this software, I use the included dataset conigrave20. This data is from a meta-analysis looking at Indigenous Australian drinking patterns. The outcomes are the log-odds of being a current drinker, being at short-term risk, and long-term risk from drinking.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(msemtools)</span></code></pre></div>
<div id="running-a-basic-model-with-metasem" class="section level2">
<h2 class="hasAnchor">
<a href="#running-a-basic-model-with-metasem" class="anchor"></a>Running a basic model with metaSEM</h2>
<p>To run a metaSEM model, you need an effect size, corresponding sampling variance, and information about how effect sizes are clustered.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>current_d<span class="fl">.0</span> &lt;-<span class="st"> </span><span class="kw">meta3</span>(</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="dt">y =</span> drink_yi,</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="dt">v =</span> drink_vi,</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="dt">cluster =</span> study_id,</span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="dt">data =</span> conigrave20,</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="dt">model.name =</span> <span class="st">"Current drinker"</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>)</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="kw">summary</span>(current_d<span class="fl">.0</span>)</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">## </span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">## Call:</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">## meta3(y = drink_yi, v = drink_vi, cluster = study_id, data = conigrave20, </span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">##     model.name = "Current drinker")</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">## </span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">## 95% confidence intervals: z statistic approximation (robust=FALSE)</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">## Coefficients:</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">##            Estimate Std.Error    lbound    ubound z value  Pr(&gt;|z|)    </span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">## Intercept 0.3644346 0.1340253 0.1017499 0.6271193  2.7191  0.006545 ** </span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">## Tau2_2    0.4459826 0.0887495 0.2720368 0.6199284  5.0252 5.029e-07 ***</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">## Tau2_3    0.3478567 0.1764483 0.0020244 0.6936891  1.9714  0.048674 *  </span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="co">## ---</span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">## </span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="co">## Q statistic on the homogeneity of effect sizes: 5518.62</span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co">## Degrees of freedom of the Q statistic: 98</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="co">## P value of the Q statistic: 0</span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">## </span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">## Heterogeneity indices (based on the estimated Tau2):</span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="co">##                               Estimate</span></span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="co">## I2_2 (Typical v: Q statistic)   0.5559</span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="co">## I2_3 (Typical v: Q statistic)   0.4336</span></span>
<span id="cb3-33"><a href="#cb3-33"></a><span class="co">## </span></span>
<span id="cb3-34"><a href="#cb3-34"></a><span class="co">## Number of studies (or clusters): 37</span></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">## Number of observed statistics: 99</span></span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="co">## Number of estimated parameters: 3</span></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="co">## Degrees of freedom: 96</span></span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="co">## -2 log likelihood: 244.0044 </span></span>
<span id="cb3-39"><a href="#cb3-39"></a><span class="co">## OpenMx status1: 0 ("0" or "1": The optimization is considered fine.</span></span>
<span id="cb3-40"><a href="#cb3-40"></a><span class="co">## Other values may indicate problems.)</span></span></code></pre></div>
<p>We’ve produced the baseline model. This model shows us the pooled log-odds of current drinkers. The intercept shows that for included studies, the pooled log-odds of drinking was 0.36 <br><span class="math display">95</span><br>.</p>
<p>I2_2 shows the proportion of heterogeneity within cluster (study_id). I2_3 shows the heterogeneity between studies.</p>
<p>You can see that the total heterogeneity is extremely high ~ 1.</p>
</div>
<div id="moderation-with-msemtools" class="section level2">
<h2 class="hasAnchor">
<a href="#moderation-with-msemtools" class="anchor"></a>Moderation with msemtools</h2>
<p>metaSEM allows users to test for the effect of moderators. To do this, a categorical moderator (e.g. gender) must be converted to a matrix of dummy variables. Msemtools automates this process.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>m &lt;-<span class="st"> </span>msemtools<span class="op">::</span><span class="kw">character_matrix</span>(conigrave20<span class="op">$</span>Gender)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">cbind.data.frame</span>(m, conigrave20<span class="op">$</span>Gender)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">##   Mostly male Mixed gender Mostly female conigrave20$Gender</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">## 1           0            1             0       Mixed gender</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">## 2           1            0             0        Mostly male</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">## 3           0            0             1      Mostly female</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">## 4           1            0             0        Mostly male</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">## 5           0            0             1      Mostly female</span></span></code></pre></div>
<p>But this happens internally so you don’t need to worry about it. Just provide the baseline mode, and tell msemtools what variable you want to moderate by.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>moderation_object =<span class="st"> </span>current_d<span class="fl">.0</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw">moderate</span>(Gender)</span>
<span id="cb5-3"><a href="#cb5-3"></a>moderation_object</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">## Moderation results:</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">## </span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">## I2(2): 55.6%</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">## I2(3): 43.4%</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">## -------------------------------------</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">##   moderation  k  n R2_2 R2_3  p.value</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">## -------------------------------------</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">## 1     Gender 31 93  0.6    0 &lt; 0.001*</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">## -------------------------------------</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">## All models converged.</span></span></code></pre></div>
<p>The p-value demonstrates that the baseline model is significantly improved by including gender as a moderator.</p>
<p>To get the specific values we can call summary on this object. Additionally, we can request a transformation to something which is easier to interpret than log-odds.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>logit2prob =<span class="st"> </span><span class="cf">function</span>(logit){</span>
<span id="cb6-2"><a href="#cb6-2"></a>  odds &lt;-<span class="st"> </span><span class="kw">exp</span>(logit)</span>
<span id="cb6-3"><a href="#cb6-3"></a>  prob &lt;-<span class="st"> </span>odds <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>odds)</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="kw">return</span>(prob)</span>
<span id="cb6-5"><a href="#cb6-5"></a>}</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">summary</span>(moderation_object,</span>
<span id="cb6-8"><a href="#cb6-8"></a>        <span class="dt">transf =</span> logit2prob,</span>
<span id="cb6-9"><a href="#cb6-9"></a>        <span class="dt">t.name =</span> <span class="st">"Proportion [95% CI]"</span>)</span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">##   Moderator       k  n  Proportion [95% CI] Estimate SE   R^2(2) R^2(3)</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">## 1 Baseline        37 99 0.59 [0.53, 0.65]   0.36     0.13 -      -     </span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">## 2 Gender          31 93 -                   -        -    0.60   0.00  </span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">## 3 __Mostly male   16 39 0.69 [0.61, 0.77]   0.80     0.19 -      -     </span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">## 4 __Mixed gender  12 12 0.52 [0.40, 0.64]   0.09     0.25 -      -     </span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">## 5 __Mostly female 19 42 0.47 [0.38, 0.56]   -0.11    0.19 -      -     </span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">##   p       </span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">## 1 -       </span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">## 2 &lt; 0.001*</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">## 3 -       </span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">## 4 -       </span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">## 5 -</span></span></code></pre></div>
<p>We can see that samples with more males had higher proportions of current drinkers. We can also easily plot this results.</p>
</div>
<div id="forest-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#forest-plot" class="anchor"></a>forest plot</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">plot</span>(moderation_object, <span class="st">"Gender"</span>, <span class="dt">transform =</span> logit2prob)</span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-5-1.png"></p>
<p>Author and year were automatically detected by looking for clues like “et al”. But you can also manually specify them.</p>
</div>
<div id="formatting" class="section level2">
<h2 class="hasAnchor">
<a href="#formatting" class="anchor"></a>formatting</h2>
<p>If we want to add more moderators we just throw them into the moderation function as argument separated by commas.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>moderation_object2 =<span class="st"> </span>current_d<span class="fl">.0</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">moderate</span>(Gender, Age, Cohort)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a>moderation_object2</span>
<span id="cb8-5"><a href="#cb8-5"></a></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">## Moderation results:</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">## </span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">## I2(2): 55.6%</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">## I2(3): 43.4%</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">## -------------------------------------</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">##   moderation  k  n R2_2 R2_3  p.value</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">## -------------------------------------</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">## 1     Gender 31 93 0.60 0.00 &lt; 0.001*</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">## 2        Age 18 41 0.18 0.00 &lt; 0.001*</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">## 3     Cohort 37 99 0.03 0.09    0.15 </span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">## -------------------------------------</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">## All models converged.</span></span></code></pre></div>
<p>We can then format this table with another function</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">summary</span>(moderation_object2,</span>
<span id="cb9-2"><a href="#cb9-2"></a>        <span class="dt">transf =</span> logit2prob,</span>
<span id="cb9-3"><a href="#cb9-3"></a>        <span class="dt">t.name =</span> <span class="st">"Proportion [95% CI]"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
Moderator
</th>
<th style="text-align: left;">
k
</th>
<th style="text-align: left;">
n
</th>
<th style="text-align: left;">
Proportion [95% CI]
</th>
<th style="text-align: left;">
Estimate
</th>
<th style="text-align: left;">
<span class="math inline"><em>S</em><em>E</em></span>
</th>
<th style="text-align: left;">
<span class="math inline"><em>R</em><sub>(2)</sub><sup>2</sup></span>
</th>
<th style="text-align: left;">
<span class="math inline"><em>R</em><sub>(3)</sub><sup>2</sup></span>
</th>
<th style="text-align: left;">
<span class="math inline"><em>p</em></span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
Baseline
</td>
<td style="text-align: left;">
37
</td>
<td style="text-align: left;">
99
</td>
<td style="text-align: left;">
0.59 [0.53, 0.65]
</td>
<td style="text-align: left;">
0.36
</td>
<td style="text-align: left;">
0.13
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
Gender
</td>
<td style="text-align: left;">
31
</td>
<td style="text-align: left;">
93
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
0.60
</td>
<td style="text-align: left;">
0.00
</td>
<td style="text-align: left;">
&lt; 0.001*
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
__Mostly male
</td>
<td style="text-align: left;">
16
</td>
<td style="text-align: left;">
39
</td>
<td style="text-align: left;">
0.69 [0.61, 0.77]
</td>
<td style="text-align: left;">
0.80
</td>
<td style="text-align: left;">
0.19
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
__Mixed gender
</td>
<td style="text-align: left;">
12
</td>
<td style="text-align: left;">
12
</td>
<td style="text-align: left;">
0.52 [0.40, 0.64]
</td>
<td style="text-align: left;">
0.09
</td>
<td style="text-align: left;">
0.25
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
__Mostly female
</td>
<td style="text-align: left;">
19
</td>
<td style="text-align: left;">
42
</td>
<td style="text-align: left;">
0.47 [0.38, 0.56]
</td>
<td style="text-align: left;">
-0.11
</td>
<td style="text-align: left;">
0.19
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
Age
</td>
<td style="text-align: left;">
18
</td>
<td style="text-align: left;">
41
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
0.18
</td>
<td style="text-align: left;">
0.00
</td>
<td style="text-align: left;">
&lt; 0.001*
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
__15-24 years
</td>
<td style="text-align: left;">
9
</td>
<td style="text-align: left;">
17
</td>
<td style="text-align: left;">
0.50 [0.38, 0.62]
</td>
<td style="text-align: left;">
0.00
</td>
<td style="text-align: left;">
0.25
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
__25-34 years
</td>
<td style="text-align: left;">
11
</td>
<td style="text-align: left;">
29
</td>
<td style="text-align: left;">
0.39 [0.28, 0.50]
</td>
<td style="text-align: left;">
-0.47
</td>
<td style="text-align: left;">
0.24
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
__35-49 years
</td>
<td style="text-align: left;">
11
</td>
<td style="text-align: left;">
18
</td>
<td style="text-align: left;">
0.65 [0.48, 0.78]
</td>
<td style="text-align: left;">
0.61
</td>
<td style="text-align: left;">
0.34
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
__50+
</td>
<td style="text-align: left;">
4
</td>
<td style="text-align: left;">
5
</td>
<td style="text-align: left;">
0.49 [0.32, 0.66]
</td>
<td style="text-align: left;">
-0.03
</td>
<td style="text-align: left;">
0.36
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
Cohort
</td>
<td style="text-align: left;">
37
</td>
<td style="text-align: left;">
99
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
-
</td>
<td style="text-align: left;">
0.03
</td>
<td style="text-align: left;">
0.09
</td>
<td style="text-align: left;">
0.15
</td>
</tr>
</tbody>
</table>
</div>
<div id="describing-moderated-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#describing-moderated-tables" class="anchor"></a>Describing moderated tables</h2>
<p>A method is provided to convert moderated tables to paragraph descriptions which can be rendered in rmarkdown.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">report</span>(moderation_object2, <span class="dt">rmarkdown =</span> <span class="ot">FALSE</span>, <span class="dt">transf =</span> logit2prob)</span></code></pre></div>
<p><br><span class="math display">1</span><br> “Thirty-seven studies (99 effects) reported data which could be pooled. Inspecting the Q statistic revealed significant heterogeneity <em>Q</em>(98) = 5518.62, <em>p</em> &lt; 0.001. The pooled effect size was 0.59 <br><span class="math display">95<em>C</em><em>I</em>0.53, 0.65</span><br>. The heterogeneity at level 2 was 55.59%. The heterogeneity at level 3 was 43.36%. The covariates which significantly moderated the baseline model were ‘Gender’ (<em>R</em><sub>(2)</sub><sup>2</sup> = 59.82%; <em>R</em><sub>(3)</sub><sup>2</sup> = 0.00%), and ‘Age’ (<em>R</em><sub>(2)</sub><sup>2</sup> = 17.58%; <em>R</em><sub>(3)</sub><sup>2</sup> = 0.00%).”</p>
</div>
<div id="funnel-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#funnel-plots" class="anchor"></a>Funnel plots</h2>
<p>A function is provided to create a funnel plot from metaSEM models. An egger’s asymmetry test is also automatically reported to try and detect publication bias.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>moderation_object2 <span class="op">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span><span class="kw">funnel_plot</span>(<span class="dt">density =</span> T)</span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">## $plot</span></span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-9-1.png"></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">## </span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">## $reg_test</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">## </span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">## Regression Test for Funnel Plot Asymmetry</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">## </span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">## model:     mixed-effects meta-regression model</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">## predictor: standard error</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">## </span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">## test for funnel plot asymmetry: z = 0.4681, p = 0.6397</span></span></code></pre></div>
</div>
<div id="moderation-matrix" class="section level2">
<h2 class="hasAnchor">
<a href="#moderation-matrix" class="anchor"></a>Moderation matrix</h2>
<p>Where there are multiple outcomes with the same moderators, it can be useful to visually compare all outcomes and moderators simultaneously. A moderation matrix function is supplied for this.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>mods &lt;-</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">  </span>msemtools<span class="op">::</span><span class="kw">moderation_instructions</span>(Gender,</span>
<span id="cb13-3"><a href="#cb13-3"></a>                                     Age,</span>
<span id="cb13-4"><a href="#cb13-4"></a>                                     Cohort,</span>
<span id="cb13-5"><a href="#cb13-5"></a>                                     <span class="st">"Australian State"</span> =<span class="st"> </span>State)</span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a>mod1 &lt;-<span class="st"> </span><span class="kw">meta3</span>(drink_yi, drink_vi, study_id, <span class="dt">data =</span> conigrave20) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="st">  </span><span class="kw">moderate</span>(<span class="dt">moderators =</span> mods)</span>
<span id="cb13-9"><a href="#cb13-9"></a>mod2 &lt;-<span class="st"> </span><span class="kw">meta3</span>(risk_short_yi, risk_short_vi, study_id, <span class="dt">data =</span> conigrave20) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="st">  </span><span class="kw">moderate</span>(<span class="dt">moderators =</span> mods)</span>
<span id="cb13-11"><a href="#cb13-11"></a>mod3 &lt;-<span class="st"> </span><span class="kw">meta3</span>(risk_long_yi, risk_long_vi, study_id, <span class="dt">data =</span> conigrave20) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="st">  </span><span class="kw">moderate</span>(<span class="dt">moderators =</span> mods)</span>
<span id="cb13-13"><a href="#cb13-13"></a></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="kw">moderation_matrix</span>(</span>
<span id="cb13-15"><a href="#cb13-15"></a>  <span class="st">"Current drinkers"</span> =<span class="st"> </span>mod1,</span>
<span id="cb13-16"><a href="#cb13-16"></a>  <span class="st">"Short-term risk"</span>  =<span class="st"> </span>mod2,</span>
<span id="cb13-17"><a href="#cb13-17"></a>  <span class="st">"Long-term risk"</span>   =<span class="st"> </span>mod3,</span>
<span id="cb13-18"><a href="#cb13-18"></a>  <span class="dt">transf =</span> logit2prob,</span>
<span id="cb13-19"><a href="#cb13-19"></a>  <span class="dt">null_value =</span> <span class="fl">.5</span>,</span>
<span id="cb13-20"><a href="#cb13-20"></a>  <span class="dt">effect_size =</span> <span class="st">"Proportion"</span></span>
<span id="cb13-21"><a href="#cb13-21"></a>)</span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-10-1.png"></p>
<p>The grey squares indicate models which did not significantly improve upon the fit of the baseline model.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing msemtools</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>James Conigrave <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by James Conigrave.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
